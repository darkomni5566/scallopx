(self.webpackChunkblack_dashboard_angular=self.webpackChunkblack_dashboard_angular||[]).push([[641],{90641:function(e,t,i){"use strict";i.r(t),i.d(t,{FeesModule:function(){return Z}});var n=i(38583),s=i(91841),r=i(90665),o=i(14330),l=i(89736),d=i(72533),c=i(76419),a=i(89019),u=i(9022);function f(e,t){if(1&e){var i=u.EpF();u.TgZ(0,"button",21),u.NdJ("click",function(){u.CHM(i);var e=u.oxw().index,t=u.oxw();return t.onEditAction(e),t.buttonName="UPDATE"}),u._UZ(1,"i",22),u.qZA()}if(2&e){var n=u.oxw(2);u.Q6J("disabled",0==(null==n.permissionObj?null:n.permissionObj.isUpdate))}}function p(e,t){if(1&e){var i=u.EpF();u.TgZ(0,"button",23),u.NdJ("click",function(){u.CHM(i);var e=u.oxw(),t=e.index,n=e.$implicit,s=u.oxw();return"UPDATE"==s.buttonName?s.updateAction(t,n):s.onSaveAction(t)}),u._UZ(1,"i",24),u.qZA()}if(2&e){var n=u.oxw(2);u.Q6J("disabled",0==(null==n.permissionObj?null:n.permissionObj.isCreate))}}function b(e,t){if(1&e){var i=u.EpF();u.TgZ(0,"button",25),u.NdJ("click",function(){u.CHM(i);var e=u.oxw(),t=e.index,n=e.$implicit;return u.oxw().onRemoveAction(t,n)}),u._UZ(1,"i",26),u.qZA()}if(2&e){var n=u.oxw(2);u.Q6J("disabled",0==(null==n.permissionObj?null:n.permissionObj.isDelete))}}function g(e,t){if(1&e){var i=u.EpF();u.TgZ(0,"button",27),u.NdJ("click",function(){u.CHM(i);var e=u.oxw().index;return u.oxw().onDeleteAction(e)}),u._UZ(1,"i",28),u.qZA()}}function h(e,t){if(1&e){var i=u.EpF();u.TgZ(0,"tr"),u.TgZ(1,"td",14),u.TgZ(2,"input",15),u.NdJ("keypress",function(e){return u.CHM(i),u.oxw().server.numberOnly(e)}),u.qZA(),u.qZA(),u.TgZ(3,"td"),u._uU(4),u.qZA(),u.TgZ(5,"td"),u._uU(6),u.qZA(),u.TgZ(7,"td",16),u._uU(8),u.qZA(),u.TgZ(9,"td",16),u._uU(10),u.qZA(),u.TgZ(11,"td"),u._uU(12),u.ALo(13,"date"),u.qZA(),u.TgZ(14,"td"),u._uU(15),u.ALo(16,"date"),u.qZA(),u.TgZ(17,"td"),u.YNc(18,f,2,1,"button",17),u._uU(19,"\xa0\xa0 "),u.YNc(20,p,2,1,"button",18),u._uU(21,"\xa0\xa0 "),u.YNc(22,b,2,1,"button",19),u.YNc(23,g,2,0,"button",20),u.qZA(),u.qZA()}if(2&e){var n=t.$implicit,s=t.index,r=u.oxw();u.xp6(2),u.Q6J("value",null==n?null:n.fee)("disabled",n.disable)("id",s+"fee-preview"),u.xp6(2),u.Oqu((null==n?null:n.coin)||"---"),u.xp6(2),u.Oqu((null==n?null:n.networkFee)||"---"),u.xp6(1),u.Q6J("id",s+"feeFor-preview"),u.xp6(1),u.hij(" ",(null==n?null:n.feeFor)||"---"," "),u.xp6(1),u.Q6J("id",s+"userType-preview"),u.xp6(1),u.hij(" ",(null==n?null:n.userType)||"---"," "),u.xp6(2),u.Oqu(u.xi3(13,15,null==n?null:n.createdTime,"mediumDate")),u.xp6(3),u.Oqu(u.xi3(16,18,null==n?null:n.updatedTime,"mediumDate")),u.xp6(3),u.Q6J("ngIf",r.selectedIndex!=s&&(null==n?null:n.feeId)),u.xp6(2),u.Q6J("ngIf",r.selectedIndex==s||!(null!=n&&n.feeId)),u.xp6(2),u.Q6J("ngIf",r.selectedIndex==s&&(null==n?null:n.feeId)),u.xp6(1),u.Q6J("ngIf",!(null!=n&&n.feeId))}}var m=function(e,t,i){return{itemsPerPage:e,totalItems:t,currentPage:i}},A=[{path:"fees-management",component:function(){function e(e){var t;this.server=e,this.selectedIndex=null,this.permissionObj={},this.itemPerPage=20,this.currentPage=1,this.totalItems=0,this.obj={},this.buttonName="CREATION",t=localStorage.getItem("permitted")?JSON.parse(atob(localStorage.getItem("permitted"))):[],this.permissionObj=t.find(function(e){return"Fees Management"==e.name})}return e.prototype.ngOnInit=function(){this.getFees()},e.prototype.onEditAction=function(e){this.selectedIndex=e,this.feesArrList.forEach(function(e){e.disable=!!e.feeId}),this.feesArrList[e].disable=!1},e.prototype.onRemoveAction=function(e,t){this.selectedIndex=null,this.feesArrList.forEach(function(e){e.disable=!!e.feeId}),document.getElementById(e+"fee-preview").value=this.feesArrList[e].fee},e.prototype.onDeleteAction=function(e){this.feesArrList.splice(e,1),this.selectedIndex=null,this.feesArrList.forEach(function(e){e.disable=!!e.feeId})},e.prototype.getFees=function(){var e=this;this.feesArrList=[],this.totalItems=0;var t=a._.feesRisk.getFees;this.server.showSpinner(),this.server.getApi(t).subscribe(function(t){e.server.hideSpinner(),200==t.status&&(e.feesArrList=t.data,e.totalItems=t.data.count,e.feesArrList.forEach(function(e){e.disable=!0}))})},e.prototype.onSaveAction=function(e,t){var i=this;this.feesArrList[this.selectedIndex].fee=document.getElementById(e+"fee-preview").value,this.feesArrList[this.selectedIndex].feeFor=document.getElementById(e+"feeFor-preview").value,this.feesArrList[this.selectedIndex].userType=document.getElementById(e+"userType-preview").value,delete this.feesArrList[this.selectedIndex].disable;var n=a._.feesRisk.getFees;n=n+"?ip="+localStorage.getItem("ip")+"&fee="+this.feesArrList[this.selectedIndex].fee+"&feeFor="+this.feesArrList[this.selectedIndex].feeFor+"&userType="+this.feesArrList[this.selectedIndex].userType,this.server.postApi(n,"").subscribe(function(t){200==t.status&&(i.server.showSuccToast(t.message),i.selectedIndex=null,i.feesArrList[e].disable=!0,i.getFees())})},e.prototype.updateAction=function(e,t){var i=this;this.feesId=t,this.feesArrList[this.selectedIndex].fee=document.getElementById(e+"fee-preview").value,document.getElementById(e+"fee-preview").value=this.feesArrList[e].feeFor,document.getElementById(e+"userType-preview").value=this.feesArrList[e].userType,delete this.feesArrList[this.selectedIndex].disable;var n=a._.feesRisk.getFees;n=n+"?ip="+localStorage.getItem("ip")+"&fee="+this.feesArrList[this.selectedIndex].fee+"&feeFor="+this.feesArrList[e].feeFor+"&userType="+this.feesArrList[e].userType,this.server.postApi(n,"").subscribe(function(t){200==t.status&&(i.server.showSuccToast(t.message),i.selectedIndex=null,i.feesArrList[e].disable=!0,i.getFees())})},e.prototype.pagination=function(e){this.currentPage=e,this.getFees()},e.prototype.createFees=function(){this.obj={fee:"",feeFor:"BASIC",userType:"INDIVIDUAL",disable:!1},this.feesArrList.splice(0,0,this.obj),this.selectedIndex=0},e.\u0275fac=function(t){return new(t||e)(u.Y36(c.N))},e.\u0275cmp=u.Xpm({type:e,selectors:[["app-fees-management"]],decls:35,vars:8,consts:[[1,"wrapper"],[1,"main-panel"],[1,"content"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header",2,"display","flex"],[1,"tim-icons","icon-money-coins","mr-2",2,"font-size","x-large"],[1,"feemng"],[1,"card-body"],[1,"table-responsive",2,"text-align","center"],["id","",1,"table","tablesorter"],[1,"text-primary"],[4,"ngFor","ngForOf"],[1,"width-td"],["type","text",1,"form-control","text-center",3,"value","disabled","id","keypress"],[1,"width-td",3,"id"],["class","btn btn btn-success btn-sm btn-icon","title","Edit",3,"disabled","click",4,"ngIf"],["class","btn btn btn-success btn-sm btn-icon","title","Save",3,"disabled","click",4,"ngIf"],["class","btn  btn-danger btn-sm btn-icon","title","Remove",3,"disabled","click",4,"ngIf"],["class","btn  btn-danger btn-sm btn-icon","title","Remove",3,"click",4,"ngIf"],["title","Edit",1,"btn","btn","btn-success","btn-sm","btn-icon",3,"disabled","click"],[1,"far","fa-edit"],["title","Save",1,"btn","btn","btn-success","btn-sm","btn-icon",3,"disabled","click"],[1,"fas","fa-save"],["title","Remove",1,"btn","btn-danger","btn-sm","btn-icon",3,"disabled","click"],[1,"fa","fa-times"],["title","Remove",1,"btn","btn-danger","btn-sm","btn-icon",3,"click"],[1,"fa","fa-trash"]],template:function(e,t){1&e&&(u.TgZ(0,"div",0),u.TgZ(1,"div",1),u.TgZ(2,"div",2),u.TgZ(3,"div",3),u.TgZ(4,"div",4),u.TgZ(5,"div",5),u.TgZ(6,"div",6),u._UZ(7,"i",7),u.TgZ(8,"h2",8),u._uU(9,"FEES MANAGEMENT"),u.qZA(),u.qZA(),u._UZ(10,"hr"),u.TgZ(11,"div",9),u.TgZ(12,"div",10),u.TgZ(13,"table",11),u.TgZ(14,"thead",12),u.TgZ(15,"tr"),u.TgZ(16,"th"),u._uU(17,"Fee"),u.qZA(),u.TgZ(18,"th"),u._uU(19,"coin"),u.qZA(),u.TgZ(20,"th"),u._uU(21,"network Fee"),u.qZA(),u.TgZ(22,"th"),u._uU(23,"fee For"),u.qZA(),u.TgZ(24,"th"),u._uU(25,"user Type"),u.qZA(),u.TgZ(26,"th"),u._uU(27,"created Time"),u.qZA(),u.TgZ(28,"th"),u._uU(29,"updated Time"),u.qZA(),u.TgZ(30,"th"),u._uU(31,"Action"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(32,"tbody"),u.YNc(33,h,24,21,"tr",13),u.ALo(34,"paginate"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA()),2&e&&(u.xp6(33),u.Q6J("ngForOf",u.xi3(34,1,t.feesArrList,u.kEZ(4,m,t.itemPerPage,t.totalItems,t.currentPage))))},directives:[n.sg,n.O5],pipes:[d._s,n.uU],styles:[".width-td[_ngcontent-%COMP%] {\n  width: 157px !important;\n}\n\n@media (min-width: 320px) and (max-width: 570px) {\n  .feemng[_ngcontent-%COMP%] {\n    font-size: 22px;\n  }\n}"]}),e}()}],Z=function(){function e(){}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({imports:[[n.ez,o.Bz.forChild(A),r.u5,s.JF,l.IJ,r.u5,r.UX,d.JX]]}),e}()}}]);