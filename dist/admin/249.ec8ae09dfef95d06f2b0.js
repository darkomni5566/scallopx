(self.webpackChunkblack_dashboard_angular=self.webpackChunkblack_dashboard_angular||[]).push([[249],{42249:function(i,t,n){"use strict";n.r(t),n.d(t,{ConfigModule:function(){return b}});var o=n(38583),e=n(91841),r=n(90665),s=n(14330),a=n(89736),l=n(72533),c=n(76419),g=n(89019),u=n(9022);function d(i,t){if(1&i){var n=u.EpF();u.TgZ(0,"a",25),u.NdJ("click",function(){var i=u.CHM(n).$implicit;return u.oxw(2).noConfigDetails(i)}),u._uU(1),u.qZA()}if(2&i){var o=t.$implicit;u.xp6(1),u.Oqu(null==o?null:o.configurationFor)}}function f(i,t){if(1&i&&(u.TgZ(0,"div",3),u.TgZ(1,"div",18),u.TgZ(2,"h4",19),u._uU(3," Configuration Name "),u.qZA(),u.qZA(),u.TgZ(4,"div",20),u.TgZ(5,"div",21),u.TgZ(6,"button",22),u._uU(7),u.qZA(),u.TgZ(8,"div",23),u.YNc(9,d,2,1,"a",24),u.qZA(),u.qZA(),u.qZA(),u.qZA()),2&i){var n=u.oxw();u.xp6(7),u.hij(" ",null==n.configDetails?null:n.configDetails.configurationFor," "),u.xp6(2),u.Q6J("ngForOf",n.configList)}}function p(i,t){if(1&i){var n=u.EpF();u.TgZ(0,"div",26),u.TgZ(1,"div",27),u.TgZ(2,"label"),u._uU(3),u.qZA(),u.TgZ(4,"input",28),u.NdJ("ngModelChange",function(i){return u.CHM(n).$implicit.value=i}),u.qZA(),u.qZA(),u.qZA()}if(2&i){var o=t.$implicit,e=t.index,r=u.oxw();u.xp6(3),u.Oqu(null==o?null:o.key),u.xp6(1),u.Q6J("ngModel",o.value)("disabled",(null==o?null:o.disabled)||0==(null==r.permissionObj?null:r.permissionObj.isCreate))("id",e)}}var h=function(){function i(i,t,n){var o;this.server=i,this.router=t,this.route=n,this.configDetails={},this.ObjArr=[],this.configUpdateDetails={},this.selectedIndex=null,this.permissionObj={},o=localStorage.getItem("permitted")?JSON.parse(atob(localStorage.getItem("permitted"))):[],this.permissionObj=o.find(function(i){return"Configuration Management"==i.name});window.location.href;this.router.url.includes("config-management")?(this.title="CONFIGURATION MANAGEMENT",this.buttonName="list"):this.router.url.includes("config-details")?(this.title=this.configDetails.configurationFor,this.buttonName="View"):(this.title="CONFIGURATION UPDATE",this.buttonName="Update")}return i.prototype.ngOnInit=function(){this.getConfigList()},i.prototype.getConfigList=function(){var i=this;this.configList=[],this.totalItems=0;var t=g._.config.getAllConfigList;this.server.getApi(t).subscribe(function(t){200==t.status&&(i.configList=t.data,i.noConfigDetails(i.configList[0]))})},i.prototype.postConfig=function(){var i=this,t=g._.config.getAllConfigList+"?configurationName="+this.configDetails.configurationFor;this.server.postApi(t,"").subscribe(function(t){if(200==t.status){i.configUpdateDetails=t.data;var n=Object.keys(i.configUpdateDetails),o=Object.values(i.configUpdateDetails);i.ObjArr=[];for(var e=0;e<n.length;e++)i.ObjArr.push({key:n[e],value:o[e],disabled:true})}})},i.prototype.noConfigDetails=function(i){this.configDetails=i,0!=this.configDetails.configurations.length?this.postConfig():this.server.showErrToast("No Configurations Found")},i.prototype.onEditAction=function(){this.ObjArr.forEach(function(i){i.disabled=!1})},i.prototype.onSaveConfig=function(){var i=this,t=g._.config.getAllConfigList+"?configurationName="+this.configDetails.configurationFor,n=[];this.ObjArr.map(function(i){return n.push(i.value)});var o={configurations:JSON.stringify(this.ObjArr),configurationFor:this.configDetails.configurationFor,id:this.configDetails.id};this.server.putApi(t,o).subscribe(function(t){200==t.status&&(i.server.showSuccToast(t.message),i.getConfigList())})},i.\u0275fac=function(t){return new(t||i)(u.Y36(c.N),u.Y36(s.F0),u.Y36(s.gz))},i.\u0275cmp=u.Xpm({type:i,selectors:[["app-config-management"]],decls:24,vars:6,consts:[[1,"wrapper"],[1,"main-panel"],[1,"content"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header",2,"display","flex"],[1,"tim-icons","icon-single-02","mr-2",2,"font-size","x-large"],[1,"cfgna"],["class","row",4,"ngIf"],[1,"card-header"],[1,"title"],["type","button","rel","tooltip",1,"btn","btn-success","btn-sm","btn-icon","pointer",3,"disabled"],["title","Edit",1,"far","fa-edit","pointer","blue",3,"click"],[1,"card-body"],["class","col-md-4 col-sm-4 col-lg-4 pr-md-1",4,"ngFor","ngForOf"],[1,"card-footer"],["type","submit",1,"btn","btn-fill","btn-info",3,"disabled","click"],[1,"col-md-4",2,"text-align","end","margin-top","4px"],[1,"text-muted","text-center"],[1,"col-md-3","text-center"],[1,"btn-group","mt25"],["type","button","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn","btn-info","dropdown-toggle"],[1,"dropdown-menu"],["class","dropdown-item pointer","href","javascript:void(0)",3,"click",4,"ngFor","ngForOf"],["href","javascript:void(0)",1,"dropdown-item","pointer",3,"click"],[1,"col-md-4","col-sm-4","col-lg-4","pr-md-1"],[1,"form-group"],["type","text",1,"form-control",3,"ngModel","disabled","id","ngModelChange"]],template:function(i,t){1&i&&(u.TgZ(0,"div",0),u.TgZ(1,"div",1),u.TgZ(2,"div",2),u.TgZ(3,"div",3),u.TgZ(4,"div",4),u.TgZ(5,"div",5),u.TgZ(6,"div",6),u._UZ(7,"i",7),u.TgZ(8,"h2",8),u._uU(9),u.qZA(),u.qZA(),u._UZ(10,"hr"),u.YNc(11,f,10,2,"div",9),u.qZA(),u.qZA(),u.TgZ(12,"div",5),u.TgZ(13,"div",10),u.TgZ(14,"h3",11),u._uU(15),u.TgZ(16,"button",12),u.TgZ(17,"i",13),u.NdJ("click",function(){return t.onEditAction()}),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(18,"div",14),u.TgZ(19,"div",3),u.YNc(20,p,5,4,"div",15),u.TgZ(21,"div",16),u.TgZ(22,"button",17),u.NdJ("click",function(){return t.onSaveConfig()}),u._uU(23,"Save"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA()),2&i&&(u.xp6(9),u.Oqu(t.title),u.xp6(2),u.Q6J("ngIf","View"!=t.buttonName),u.xp6(4),u.hij(" ",null==t.configDetails?null:t.configDetails.configurationFor," \xa0 "),u.xp6(1),u.Q6J("disabled",0==(null==t.permissionObj?null:t.permissionObj.isUpdate)),u.xp6(4),u.Q6J("ngForOf",t.ObjArr),u.xp6(2),u.Q6J("disabled",0==(null==t.permissionObj?null:t.permissionObj.isUpdate)||0==(null==t.permissionObj?null:t.permissionObj.isCreate)))},directives:[o.O5,o.sg,r.Fj,r.JJ,r.On],styles:[".cell[_ngcontent-%COMP%] {\n  max-width: 50px;\n  text-align: justify;\n}\n\n.dropdown-menu[_ngcontent-%COMP%] {\n  max-height: 190px;\n  overflow-y: scroll;\n}\n\n.blue[_ngcontent-%COMP%] {\n  color: blue;\n}\n\n@media (min-width: 320px) and (max-width: 570px) {\n  .cfgna[_ngcontent-%COMP%] {\n    font-size: 14px;\n  }\n}"]}),i}(),m=[{path:"config-management",component:h},{path:"config-details",component:h}],b=function(){function i(){}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=u.oAB({type:i}),i.\u0275inj=u.cJS({imports:[[o.ez,s.Bz.forChild(m),r.u5,e.JF,a.IJ,r.u5,r.UX,l.JX]]}),i}()}}]);