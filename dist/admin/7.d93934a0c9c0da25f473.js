(self.webpackChunkblack_dashboard_angular=self.webpackChunkblack_dashboard_angular||[]).push([[7],{71007:function(t,e,n){"use strict";n.r(e),n.d(e,{UserTransactionModule:function(){return _}});var i=n(38583),s=n(91841),r=n(90665),a=n(14330),o=n(89736),u=n(72533),l=n(67709),c=n(43151),g=n(76419),Z=n(89019),d=n(9022);function b(t,e){1&t&&(d.TgZ(0,"div",3),d.TgZ(1,"div",20),d.TgZ(2,"h4",21),d._uU(3," Search "),d.qZA(),d.qZA(),d.TgZ(4,"div",22),d.TgZ(5,"div",23),d._UZ(6,"input",24),d.qZA(),d.qZA(),d.TgZ(7,"div",25),d.TgZ(8,"button",26),d._UZ(9,"i",27),d.qZA(),d._uU(10,"\xa0\xa0 "),d.TgZ(11,"button",28),d._UZ(12,"i",29),d.qZA(),d.qZA(),d.qZA())}var h=function(t){return["/transaction-detail",t]};function p(t,e){if(1&t&&(d.TgZ(0,"tr"),d.TgZ(1,"td"),d._uU(2),d.qZA(),d.TgZ(3,"td"),d._uU(4),d.qZA(),d.TgZ(5,"td"),d._uU(6),d.qZA(),d.TgZ(7,"td"),d._uU(8),d.qZA(),d.TgZ(9,"td"),d._uU(10),d.qZA(),d.TgZ(11,"td",34),d.TgZ(12,"button",39),d._UZ(13,"i",40),d.qZA(),d._uU(14,"\xa0\xa0 "),d.TgZ(15,"button",41),d._UZ(16,"i",42),d.qZA(),d.qZA(),d.qZA()),2&t){var n=e.$implicit,i=e.index,s=d.oxw(2);d.xp6(2),d.Oqu(s.itemPerPage*(s.currentPage-1)+i+1),d.xp6(2),d.AsE("",null==n||null==n.userDetails?null:n.userDetails.firstName," ",(null==n||null==n.userDetails?null:n.userDetails.lastName)||"N/A",""),d.xp6(2),d.Oqu((null==n||null==n.userDetails?null:n.userDetails.phoneNumber)||"---"),d.xp6(2),d.Oqu(null==n?null:n.fee),d.xp6(2),d.Oqu(null==n?null:n.transactionStatus),d.xp6(3),d.Q6J("routerLink",d.VKq(7,h,null==n?null:n.id))}}function T(t,e){1&t&&(d.TgZ(0,"tr"),d.TgZ(1,"td",43),d._uU(2,"No Record Found"),d.qZA(),d.qZA())}var A=function(t,e,n){return{itemsPerPage:t,totalItems:e,currentPage:n}};function m(t,e){if(1&t){var n=d.EpF();d.TgZ(0,"div",30),d.TgZ(1,"div",31),d.TgZ(2,"table",32),d.TgZ(3,"thead",33),d.TgZ(4,"tr"),d.TgZ(5,"th"),d._uU(6,"#"),d.qZA(),d.TgZ(7,"th"),d._uU(8,"Name"),d.qZA(),d.TgZ(9,"th"),d._uU(10,"Mobile Number"),d.qZA(),d.TgZ(11,"th"),d._uU(12,"Fee"),d.qZA(),d.TgZ(13,"th"),d._uU(14,"Status"),d.qZA(),d.TgZ(15,"th",34),d._uU(16,"Actions"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(17,"tbody"),d.YNc(18,p,17,9,"tr",35),d.ALo(19,"paginate"),d.YNc(20,T,3,0,"tr",36),d.qZA(),d.qZA(),d.qZA(),d.TgZ(21,"div",37),d.TgZ(22,"pagination-controls",38),d.NdJ("pageChange",function(t){return d.CHM(n),d.oxw().pagination(t)}),d.qZA(),d.qZA(),d.qZA()}if(2&t){var i=d.oxw();d.xp6(18),d.Q6J("ngForOf",d.xi3(19,2,i.userList,d.kEZ(5,A,i.itemPerPage,i.totalItems,i.currentPage))),d.xp6(2),d.Q6J("ngIf",!i.userList.length)}}function q(t,e){if(1&t&&(d.TgZ(0,"div",30),d.TgZ(1,"div",44),d.TgZ(2,"table",32),d.TgZ(3,"tbody"),d.TgZ(4,"tr",45),d._UZ(5,"td"),d.TgZ(6,"td",46),d._uU(7,"Name"),d.qZA(),d.TgZ(8,"td"),d._uU(9),d.qZA(),d.qZA(),d.TgZ(10,"tr",45),d._UZ(11,"td"),d.TgZ(12,"td",46),d._uU(13,"Mobile Number"),d.qZA(),d.TgZ(14,"td"),d._uU(15),d.qZA(),d.qZA(),d.TgZ(16,"tr",45),d._UZ(17,"td"),d.TgZ(18,"td",46),d._uU(19,"Fee"),d.qZA(),d.TgZ(20,"td"),d._uU(21),d.qZA(),d.qZA(),d.TgZ(22,"tr",45),d._UZ(23,"td"),d.TgZ(24,"td",46),d._uU(25,"Updated At"),d.qZA(),d.TgZ(26,"td"),d._uU(27),d.ALo(28,"date"),d.qZA(),d.qZA(),d.TgZ(29,"tr",45),d._UZ(30,"td"),d.TgZ(31,"td",46),d._uU(32,"Transaction Status"),d.qZA(),d.TgZ(33,"td"),d._uU(34),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&t){var n=d.oxw();d.xp6(9),d.AsE("",null==n.userDetailsObj||null==n.userDetailsObj.userDetails?null:n.userDetailsObj.userDetails.firstName," ",(null==n.userDetailsObj||null==n.userDetailsObj.userDetails?null:n.userDetailsObj.userDetails.lastName)||"N/A",""),d.xp6(6),d.Oqu(null==n.userDetailsObj||null==n.userDetailsObj.userDetails?null:n.userDetailsObj.userDetails.phoneNumber),d.xp6(6),d.Oqu(null==n.userDetailsObj?null:n.userDetailsObj.fee),d.xp6(6),d.Oqu(d.lcZ(28,6,null==n.userDetailsObj?null:n.userDetailsObj.updatedOn)),d.xp6(7),d.Oqu(null==n.userDetailsObj?null:n.userDetailsObj.transactionStatus)}}var f=function(){function t(t,e,n){var i=this;this.server=t,this.router=e,this.route=n,this.gameHistoryArr=[],this.itemPerPage=10,this.currentPage=1,this.totalItems=0,this.userList=[],this.searchKey="",this.search$=new l.xQ,this.userDetailsObj={},window.location.href.includes("user-transaction")?(this.title="User Transaction",this.buttonName="User"):(this.title="Transaction Detail",this.buttonName="View",this.route.params.subscribe(function(t){i.userId=t.id,console.log(i.userId)}))}return t.prototype.ngOnInit=function(){this.getUserTransactionList(),this.subscribeToSearch()},t.prototype.pagination=function(t){this.currentPage=t,this.getUserTransactionList()},t.prototype.ngOnDestroy=function(){this.sub&&this.sub.unsubscribe()},t.prototype.subscribeToSearch=function(){var t=this;this.sub=this.search$.pipe((0,c.debounceTime)(1e3)).subscribe(function(e){t.searchKey=e,t.currentPage=1,t.getUserTransactionList()})},t.prototype.getUserTransactionList=function(){var t=this;this.userList=[];var e=Z._.userTransaction.getuserTransaction+"?offset="+this.currentPage+"&limit="+this.itemPerPage;this.searchKey&&(e=e+"&filter="+this.searchKey),this.server.showSpinner(),this.server.getApi(e).subscribe(function(e){t.server.hideSpinner(),200==e.status&&(t.userList=e.resp,t.totalItems=e.totalPages*e.pageSize)})},t.prototype.clearSearch=function(){this.searchKey="",this.currentPage=1,this.totalItems=0,this.getUserTransactionList()},t.prototype.searchResult=function(t){var e=t.which?t.which:t.keyCode,n=t.target.value;if(13!=e&&(8!=e||0!=this.searchKey.length)&&16!=e){var i=n.replace(/[`!#$%^&*()+\-=\[\]{};':"\\|,<>\/?~]/g,"");this.searchKey!=i.trim()&&this.search$.next(i.trim()),""==i&&""!=n&&this.server.showErrToast(n+" not allowed"),t.target.value=i}},t.\u0275fac=function(e){return new(e||t)(d.Y36(g.N),d.Y36(a.F0),d.Y36(a.gz))},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-user-transaction-list"]],decls:29,vars:4,consts:[[1,"wrapper"],[1,"main-panel"],[1,"content"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header",2,"display","flex"],[1,"tim-icons","icon-single-02","mr-2",2,"font-size","x-large"],["class","row",4,"ngIf"],["class"," card-body",4,"ngIf"],["id","myModal",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"close"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-success","modalSpace"],["type","button","data-dismiss","modal",1,"btn","btn-danger"],[1,"col-md-2",2,"text-align","end","margin-top","4px"],[1,"text-muted"],[1,"col-md-6"],[1,"form-group",2,"display","flex"],["placeholder","eg. About Us ","type","text",1,"form-control"],[1,"col-md-4"],["type","button","rel","tooltip",1,"btn","btn-info","btn-sm","btn-icon"],[1,"tim-icons","icon-zoom-split"],["type","button","rel","tooltip",1,"btn","btn-warning","btn-sm","btn-icon"],[1,"tim-icons","icon-refresh-02"],[1,"card-body"],[1,"table-responsive",2,"text-align","center"],["id","",1,"table","tablesorter"],[1,"text-primary"],[1,"text-center"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"custom-pagination","mt-2",2,"text-align","right"],[3,"pageChange"],[1,"btn","btn-warning","btn-sm","btn-icon"],["title","View ",1,"fas","fa-eye",3,"routerLink"],["data-toggle","modal","data-target","#myModal",1,"btn","btn-danger","btn-sm","btn-icon"],[1,"fa","fa-times"],["colspan","9",1,"table-no-record"],[1,"table-responsive"],[1,"text-left"],[1,"heading"]],template:function(t,e){1&t&&(d.TgZ(0,"div",0),d.TgZ(1,"div",1),d.TgZ(2,"div",2),d.TgZ(3,"div",3),d.TgZ(4,"div",4),d.TgZ(5,"div",5),d.TgZ(6,"div",6),d._UZ(7,"i",7),d.TgZ(8,"h2"),d._uU(9),d.qZA(),d.qZA(),d._UZ(10,"hr"),d.YNc(11,b,13,0,"div",8),d.YNc(12,m,23,9,"div",9),d.YNc(13,q,35,8,"div",9),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(14,"div",10),d.TgZ(15,"div",11),d.TgZ(16,"div",12),d.TgZ(17,"div",13),d.TgZ(18,"h4",14),d._uU(19,"Delete"),d.qZA(),d.TgZ(20,"button",15),d._uU(21,"\xd7"),d.qZA(),d.qZA(),d.TgZ(22,"div",16),d._uU(23," Are you sure you want to delete this transaction? "),d.qZA(),d.TgZ(24,"div",17),d.TgZ(25,"button",18),d._uU(26,"Yes"),d.qZA(),d.TgZ(27,"button",19),d._uU(28,"No"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&t&&(d.xp6(9),d.Oqu(e.title),d.xp6(2),d.Q6J("ngIf","View"!=e.buttonName),d.xp6(1),d.Q6J("ngIf","View"!=e.buttonName),d.xp6(1),d.Q6J("ngIf","View"==e.buttonName))},directives:[i.O5,i.sg,u.LS,a.rH],pipes:[u._s,i.uU],styles:[".heading[_ngcontent-%COMP%] {\n  font-weight: 700;\n}\n\n\n\n[_ngcontent-%COMP%]::-webkit-scrollbar {\n  width: 0px;\n  height: 0px;\n}\n\n\n\n[_ngcontent-%COMP%]::-webkit-scrollbar-track {\n  background: #212529;\n}\n\n\n\n[_ngcontent-%COMP%]::-webkit-scrollbar-thumb {\n  background: black;\n}\n\n\n\n[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover {\n  background: #020202;\n}\n\n.table-responsive[_ngcontent-%COMP%] {\n  overflow-x: scroll;\n  text-align: center;\n}"]}),t}(),U=[{path:"user-transaction",component:f},{path:"transaction-detail/:id",component:f}],_=function(){function t(){}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=d.oAB({type:t}),t.\u0275inj=d.cJS({imports:[[i.ez,a.Bz.forChild(U),r.u5,s.JF,o.IJ,r.u5,r.UX,u.JX]]}),t}()}}]);