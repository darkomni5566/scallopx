(self.webpackChunkblack_dashboard_angular=self.webpackChunkblack_dashboard_angular||[]).push([[592],{6686:function(e,t,r){"use strict";r.d(t,{N0:function(){return p}});var n=r(5587),o=r(31112),i=r(41998),s=r(9022),u=r(38583),c=r(19773),a=r(94402),h=r(91841),l=new s.OlP("JWT_OPTIONS"),p=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;(0,o.Z)(this,e),this.tokenGetter=t&&t.tokenGetter||function(){}}return(0,i.Z)(e,[{key:"urlBase64Decode",value:function(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Error("Illegal base64url string!")}return this.b64DecodeUnicode(t)}},{key:"b64decode",value:function(e){var t="";if((e=String(e).replace(/=+$/,"")).length%4==1)throw new Error("'atob' failed: The string to be decoded is not correctly encoded.");for(var r,n,o=0,i=0;n=e.charAt(i++);~n&&(r=o%4?64*r+n:n,o++%4)?t+=String.fromCharCode(255&r>>(-2*o&6)):0)n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(n);return t}},{key:"b64DecodeUnicode",value:function(e){return decodeURIComponent(Array.prototype.map.call(this.b64decode(e),function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)}).join(""))}},{key:"decodeToken",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.tokenGetter();if(!e||""===e)return null;var t=e.split(".");if(3!==t.length)throw new Error("The inspected token doesn't appear to be a JWT. Check to make sure it has three parts and see https://jwt.io for more.");var r=this.urlBase64Decode(t[1]);if(!r)throw new Error("Cannot decode the token.");return JSON.parse(r)}},{key:"getTokenExpirationDate",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.tokenGetter();if(!(e=this.decodeToken(t))||!e.hasOwnProperty("exp"))return null;var r=new Date(0);return r.setUTCSeconds(e.exp),r}},{key:"isTokenExpired",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.tokenGetter(),t=arguments.length>1?arguments[1]:void 0;if(!e||""===e)return!0;var r=this.getTokenExpirationDate(e);return t=t||0,null!==r&&!(r.valueOf()>(new Date).valueOf()+1e3*t)}},{key:"getAuthScheme",value:function(e,t){return"function"==typeof e?e(t):e}}]),e}();p.\u0275fac=function(e){return new(e||p)(s.LFG(l))},p.\u0275prov=s.Yz7({token:p,factory:p.\u0275fac}),p.ctorParameters=function(){return[{type:void 0,decorators:[{type:s.tBr,args:[l]}]}]};var f=function(){function e(t,r,n){(0,o.Z)(this,e),this.jwtHelper=r,this.document=n,this.standardPorts=["80","443"],this.tokenGetter=t.tokenGetter,this.headerName=t.headerName||"Authorization",this.authScheme=t.authScheme||""===t.authScheme?t.authScheme:"Bearer ",this.allowedDomains=t.allowedDomains||[],this.disallowedRoutes=t.disallowedRoutes||[],this.throwNoTokenError=t.throwNoTokenError||!1,this.skipWhenExpired=t.skipWhenExpired}return(0,i.Z)(e,[{key:"isAllowedDomain",value:function(e){var t=new URL(e.url,this.document.location.origin);if(t.host===this.document.location.host)return!0;var r="".concat(t.hostname).concat(t.port&&!this.standardPorts.includes(t.port)?":"+t.port:"");return this.allowedDomains.findIndex(function(e){return"string"==typeof e?e===r:e instanceof RegExp&&e.test(r)})>-1}},{key:"isDisallowedRoute",value:function(e){var t=this,r=new URL(e.url,this.document.location.origin);return this.disallowedRoutes.findIndex(function(n){if("string"==typeof n){var o=new URL(n,t.document.location.origin);return o.hostname===r.hostname&&o.pathname===r.pathname}return n instanceof RegExp&&n.test(e.url)})>-1}},{key:"handleInterception",value:function(e,t,r){var o=this.jwtHelper.getAuthScheme(this.authScheme,t),i=!1;if(!e&&this.throwNoTokenError)throw new Error("Could not get token from tokenGetter function.");return this.skipWhenExpired&&(i=!e||this.jwtHelper.isTokenExpired(e)),e&&i&&this.skipWhenExpired?t=t.clone():e&&(t=t.clone({setHeaders:(0,n.Z)({},this.headerName,"".concat(o).concat(e))})),r.handle(t)}},{key:"intercept",value:function(e,t){var r=this;if(!this.isAllowedDomain(e)||this.isDisallowedRoute(e))return t.handle(e);var n=this.tokenGetter(e);return n instanceof Promise?(0,a.D)(n).pipe((0,c.zg)(function(n){return r.handleInterception(n,e,t)})):this.handleInterception(n,e,t)}}]),e}();f.\u0275fac=function(e){return new(e||f)(s.LFG(l),s.LFG(p),s.LFG(u.K0))},f.\u0275prov=s.Yz7({token:f,factory:f.\u0275fac}),f.ctorParameters=function(){return[{type:void 0,decorators:[{type:s.tBr,args:[l]}]},{type:p},{type:Document,decorators:[{type:s.tBr,args:[u.K0]}]}]};var d=function(){function e(t){if((0,o.Z)(this,e),t)throw new Error("JwtModule is already loaded. It should only be imported in your application's main module.")}return(0,i.Z)(e,null,[{key:"forRoot",value:function(t){return{ngModule:e,providers:[{provide:h.TP,useClass:f,multi:!0},t.jwtOptionsProvider||{provide:l,useValue:t.config},p]}}}]),e}();d.\u0275fac=function(e){return new(e||d)(s.LFG(d,12))},d.\u0275mod=s.oAB({type:d}),d.\u0275inj=s.cJS({}),d.ctorParameters=function(){return[{type:d,decorators:[{type:s.FiY},{type:s.tp0}]}]}},93576:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(15730),o=r(67104),i=r(96232),s=r(23915),u=r(68273),c=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var r=new e;return r.source=this,r.operator=t,r},e.prototype.subscribe=function(e,t,r){var n=this.operator,i=o.toSubscriber(e,t,r);if(n?i.add(n.call(i,this.source)):i.add(this.source||u.config.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),u.config.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){u.config.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),n.canReportError(e)?e.error(t):console.warn(t)}},e.prototype.forEach=function(e,t){var r=this;return new(t=a(t))(function(t,n){var o;o=r.subscribe(function(t){try{e(t)}catch(r){n(r),o&&o.unsubscribe()}},n,t)})},e.prototype._subscribe=function(e){var t=this.source;return t&&t.subscribe(e)},e.prototype[i.observable]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?this:s.pipeFromArray(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=a(e))(function(e,r){var n;t.subscribe(function(e){return n=e},function(e){return r(e)},function(){return e(n)})})},e.create=function(t){return new e(t)},e}();function a(e){if(e||(e=u.config.Promise||Promise),!e)throw new Error("no Promise impl found");return e}t.Observable=c},13409:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=r(93576),s=r(67241),u=r(43984),c=r(25639),a=r(45298),h=r(81476),l=function(e){function t(t){var r=e.call(this,t)||this;return r.destination=t,r}return o(t,e),t}(s.Subscriber);t.SubjectSubscriber=l;var p=function(e){function t(){var t=e.call(this)||this;return t.observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return o(t,e),t.prototype[h.rxSubscriber]=function(){return new l(this)},t.prototype.lift=function(e){var t=new f(this,this);return t.operator=e,t},t.prototype.next=function(e){if(this.closed)throw new c.ObjectUnsubscribedError;if(!this.isStopped)for(var t=this.observers,r=t.length,n=t.slice(),o=0;o<r;o++)n[o].next(e)},t.prototype.error=function(e){if(this.closed)throw new c.ObjectUnsubscribedError;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,r=t.length,n=t.slice(),o=0;o<r;o++)n[o].error(e);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new c.ObjectUnsubscribedError;this.isStopped=!0;for(var e=this.observers,t=e.length,r=e.slice(),n=0;n<t;n++)r[n].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},t.prototype._trySubscribe=function(t){if(this.closed)throw new c.ObjectUnsubscribedError;return e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){if(this.closed)throw new c.ObjectUnsubscribedError;return this.hasError?(e.error(this.thrownError),u.Subscription.EMPTY):this.isStopped?(e.complete(),u.Subscription.EMPTY):(this.observers.push(e),new a.SubjectSubscription(this,e))},t.prototype.asObservable=function(){var e=new i.Observable;return e.source=this,e},t.create=function(e,t){return new f(e,t)},t}(i.Observable);t.Subject=p;var f=function(e){function t(t,r){var n=e.call(this)||this;return n.destination=t,n.source=r,n}return o(t,e),t.prototype.next=function(e){var t=this.destination;t&&t.next&&t.next(e)},t.prototype.error=function(e){var t=this.destination;t&&t.error&&this.destination.error(e)},t.prototype.complete=function(){var e=this.destination;e&&e.complete&&this.destination.complete()},t.prototype._subscribe=function(e){return this.source?this.source.subscribe(e):u.Subscription.EMPTY},t}(p);t.AnonymousSubject=f},45298:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(t,r){var n=e.call(this)||this;return n.subject=t,n.subscriber=r,n.closed=!1,n}return o(t,e),t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var r=t.indexOf(this.subscriber);-1!==r&&t.splice(r,1)}}},t}(r(43984).Subscription);t.SubjectSubscription=i},96232:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.observable="function"==typeof Symbol&&Symbol.observable||"@@observable"},25639:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e}();t.ObjectUnsubscribedError=r},15730:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(67241);t.canReportError=function(e){for(;e;){var t=e,r=t.closed,o=t.destination,i=t.isStopped;if(r||i)return!1;e=o&&o instanceof n.Subscriber?o:null}return!0}},7786:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.noop=function(){}},23915:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(7786);function o(e){return e?1===e.length?e[0]:function(t){return e.reduce(function(e,t){return t(e)},t)}:n.noop}t.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o(e)},t.pipeFromArray=o},67104:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(67241),o=r(81476),i=r(16011);t.toSubscriber=function(e,t,r){if(e){if(e instanceof n.Subscriber)return e;if(e[o.rxSubscriber])return e[o.rxSubscriber]()}return e||t||r?new n.Subscriber(e,t,r):new n.Subscriber(i.empty)}}}]);